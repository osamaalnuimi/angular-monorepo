<form [formGroup]="roleForm" (ngSubmit)="onSubmit()">
  <div class="form-container">
    <!-- Role Name Field -->
    <div class="field">
      <label for="name">Role Name</label>
      <input
        id="name"
        type="text"
        pInputText
        formControlName="name"
        [readonly]="isEditMode()"
        placeholder="Enter role name"
        class="w-full"
      />

      @if (submitted() && f['name'].errors?.['required']) {
      <small class="text-red-500">Role name is required</small>
      } @if (submitted() && f['name'].errors?.['minlength']) {
      <small class="text-red-500">
        Role name must be at least 3 characters
      </small>
      }
    </div>

    <p-divider></p-divider>

    <!-- Permissions Field -->
    <div class="field">
      <label for="permissions">Permissions</label>
      <p-multiSelect
        id="permissions"
        formControlName="permissions"
        [options]="availablePermissions()"
        optionLabel="label"
        optionValue="value"
        display="chip"
        placeholder="Select permissions"
        [showToggleAll]="true"
        class="w-full"
        appendTo="body"
      >
      </p-multiSelect>
      <small class="text-gray-500">
        Select the permissions for this role
      </small>
    </div>

    <p-divider></p-divider>

    <!-- Form Actions -->
    <div class="flex justify-content-end gap-2">
      <p-button
        type="button"
        label="Cancel"
        (onClick)="onCancel()"
        styleClass="p-button-secondary"
      ></p-button>
      <p-button type="submit" label="Save" icon="pi pi-save"></p-button>
    </div>
  </div>
</form>
